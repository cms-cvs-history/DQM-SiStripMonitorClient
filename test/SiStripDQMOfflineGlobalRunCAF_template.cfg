process SiStripDQMOfflineGlobalRunCAF = {

  service = MessageLogger {
    untracked vstring destinations = { "cout" }
    untracked PSet cout = { untracked string threshold = "WARNING" }
  }
  
  untracked PSet options = { untracked bool wantSummary = true }  
  
  ### MAGNETIC FIELD
  
   es_module localUniform = UniformMagneticFieldESProducer {
      double ZFieldInTesla = 0.0
    }

   es_prefer localUniform = UniformMagneticFieldESProducer{}
#  include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"   
   
  ### GEOMETRY
  include "Configuration/StandardSequences/data/Geometry.cff"

  ### CALIBRATION
  
  es_source siStripCond = poolDBESSource from "CalibTracker/Configuration/data/Common/PoolDBESSource.cfi"
  replace siStripCond.toGet = {
       { string record = "SiStripPedestalsRcd"  string tag = "SiStripPedestals_TKCC_21X_v3_hlt"} ,
       { string record = "SiStripNoisesRcd"     string tag = "SiStripNoise_TKCC_21X_v3_hlt"} ,
       { string record = "SiStripBadChannelRcd" string tag = "SiStripBadChannel_TKCC_21X_v3_hlt"},
       { string record = "SiStripFedCablingRcd" string tag = "SiStripFedCabling_TKCC_21X_v3_hlt"}
   }

   #for oracle access at cern uncomment
   replace siStripCond.connect="oracle://cms_orcoff_prod/CMS_COND_21X_STRIP"
   replace siStripCond.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"

   es_module sistripconn = SiStripConnectivity {}

   include "CalibTracker/SiStripESProducers/data/SiStripQualityESProducer.cfi"
   replace SiStripQualityESProducer.ListOfRecordToMerge = {
      { string record = "SiStripDetCablingRcd" string tag = "" },
      { string record = "SiStripBadChannelRcd" string tag = "" }
   }
   include "CalibTracker/Configuration/data/SiStripGain/SiStripGain_Fake.cff"
   include "CalibTracker/Configuration/data/SiStripLorentzAngle/SiStripLorentzAngle_Fake.cff"
   include "CalibTracker/Configuration/data/SiPixelLorentzAngle/SiPixelLorentzAngle_Fake.cff"
   include "CalibTracker/Configuration/data/TrackerAlignment/TrackerAlignment_Fake.cff"
  
  ### SISTRIP DQM
  include "INCLUDE_DIRECTORY/SiStripDQMOfflineGlobalRunCAF.cff"
  
  ### HLT FILTER
  module hltFilter = HLTHighLevel {
    vstring HLTPaths           = {
      "CandHLTTrackerCosmicsCoTF",
      "CandHLTTrackerCosmicsRS",
      "CandHLTTrackerCosmicsCTF"
    }
    bool     andOr             = true
    InputTag TriggerResultsTag = TriggerResults::FU
  }

  ### SCHEDULING
  
  path p = {
HLT_FILTER
    SiStripDQMRecoGlobalRunCAF,
    SiStripDQMSourceGlobalRunCAF_reduced,
    SiStripDQMClientGlobalRunCAF,
    qTester,
    dqmSaver
  }
  
  ### INPUT
  
  include "INPUT_FILES"
  
  untracked PSet maxEvents = {
    untracked int32 input = -1
  }

}
